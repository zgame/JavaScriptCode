
<!--采用的插件-->
<!--https://github.com/zenorocha/clipboard.js-->


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>zsw getChannelId</title>

</head>
<body>

<p id="demo">ChannelId:</p>
<br>

<button class="btn" id="bbt">点击按钮copy渠道id</button>


<!--<form id = "form1" onload="submit()">-->
    <!--<input class="btn" type="button" id="bbt" onclick="clickButton()"-->
           <!--value="点击按钮copy渠道id" />-->
<!--</form>-->



<script src="clipboard.min.js"></script>

<script>
    // window.onload = function(){
    //     //用id
    //     document.getElementById("bbt").click();
    //
    // }
    //
    // function clickButton()
    // {
    //     //document.getElementById('bbt').click();
    //     console.log("kkkkkkkkk");
    // }


    var id = getQueryVariable("id");
    document.getElementById("demo").innerHTML = "ChannelId:"+id;


    // redirect 到appStore



    // -------------获取get的参数-------------------
    function getQueryVariable(variable)
    {
        var query = window.location.search.substring(1);
        var vars = query.split("&");
        for (var i=0;i<vars.length;i++) {
            var pair = vars[i].split("=");
            if(pair[0] == variable){return pair[1];}
        }
        return(false);
    }


    // --------------支持safari的剪切板方法-------------

    var clipboard = new ClipboardJS('.btn', {
        text: function() {
            return id;
        }
    });
    clipboard.on('success', function(e) {
        console.log(e);
        console.log("成功copy渠道id："+ id);
    });
    clipboard.on('error', function(e) {
        console.log(e);
        alert('请选择“拷贝”进行复制!')
        console.log("失败");
    });




</script>



<br>
</body>
</html>